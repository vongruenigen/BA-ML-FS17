#!/bin/bash

TOP_N=250

OPENSUBTITLES_MODELS="
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_08-59-10_opensubtitles_2016_large_2048_not_reversed_step_495000
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_08-59-10_opensubtitles_2016_large_2048_not_reversed_step_1035000
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_08-59-10_opensubtitles_2016_large_2048_not_reversed_step_1525000
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_08-59-10_opensubtitles_2016_large_2048_not_reversed_step_2005000
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_08-59-10_opensubtitles_2016_large_2048_not_reversed_step_2505000
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_08-59-10_opensubtitles_2016_large_2048_not_reversed_step_3005000
"

REDDIT_MODELS="
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_15-27-16_new_reddit_movies_videos_tele_2008-2015_step_505000
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_15-27-16_new_reddit_movies_videos_tele_2008-2015_step_1000000
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_15-27-16_new_reddit_movies_videos_tele_2008-2015_step_1500000
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_15-27-16_new_reddit_movies_videos_tele_2008-2015_step_2005000
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_15-27-16_new_reddit_movies_videos_tele_2008-2015_step_2500000
/media/dvg/Volume/ZHAW/BA/trained-models/2017-05-03_15-27-16_new_reddit_movies_videos_tele_2008-2015_step_3070000
"

for dirname in $opensubtitles_models
do
  ls "$dirname" || (echo "ERROR: Directory $dirname not found" && exit 2)
done

for dirname in $reddit_models
do
  ls "$dirname" || (echo "ERROR: Directory $dirname not found" && exit 2)
done

for MODEL in $OPENSUBTITLES_MODELS
do
  TEST_OUTPUTS="$MODEL/test_outputs.txt"
  SENT_DISTS="$MODEL/test_outputs_sentences_distribution.csv"

  echo "Starting to generate sentence count results..."
  python generate_sentence_distribution.py $TEST_OUTPUTS $SENT_DISTS
done

for MODEL in $REDDIT_MODELS
do
  TEST_OUTPUTS="$MODEL/test_outputs.txt"
  SENT_DISTS="$MODEL/test_outputs_sentences_distribution.csv"

  echo "Starting to generate sentence count results..."
  python generate_sentence_distribution.py $TEST_OUTPUTS $SENT_DISTS
done
